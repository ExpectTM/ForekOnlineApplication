@using static ForekOnlineApplication.Enums.Enums;
@model ForekOnlineApplication.Models.Person;

@{
    ViewData["Title"] = "Create";
}
<br />

<div class="card border-primary mb-3 justify-content-center" style="max-width: 34rem;">
    <div class="card-header text-center"><h4>Personal Details</h4></div>
    <div class="card-body">
        <div class="row">
            <form asp-action="Create">

                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group col-md-12">
                    <label asp-for="Title" class="control-label"> Title</label>
                    <select asp-for="Title" class="form-control" asp-items="Html.GetEnumSelectList<eTitle>()">
                        <option selected="selected" value=" Please select title ">
                            Please select title
                        </option>
                    </select>
                    <span asp-validation-for="Title" class="text-danger"></span>
                </div>

                <div class="form-group col-md-12">
                    <label asp-for="FirstName" class="control-label">First Name</label>
                    <input asp-for="FirstName" class="form-control" maxlength="15" />
                    <span asp-validation-for="FirstName" class="text-danger"></span>
                </div>

                <div class="form-group col-md-12">
                    <label asp-for="LastName" class="control-label">Last Name</label>
                    <input asp-for="LastName" class="form-control" maxlength="15" />
                    <span asp-validation-for="LastName" class="text-danger"></span>
                </div>

                <div class="form-group col-md-12">
                    <label asp-for="ApplicantId" class="control-label">ID Number</label>
                    <input id="idNumber" asp-for="ApplicantId" class="form-control" minlength="13" maxlength="14" />
                    <span asp-validation-for="ApplicantId" class="text-danger"></span>
                </div>

                <div class="form-group col-md-12">
                    <label asp-for="DateOfBirth" class="control-label">Date of Birth</label>
                    <input id="dateOfBirth" asp-for="DateOfBirth" class="form-control"/>
                    <span asp-validation-for="DateOfBirth" class="text-danger"></span>
                </div>

                <div class="form-group col-md-12">
                    <label asp-for="Age" class="control-label">Age</label>
                    <input id="age" asp-for="Age" class="form-control" />
                    <span asp-validation-for="Age" class="text-danger"></span>
                </div>

                <div class="form-group col-md-12">
                    <label asp-for="Gender" class="control-label"> Gender</label>
                    <select asp-for="Gender" class="form-control" asp-items="Html.GetEnumSelectList<eGender>()">
                        <option selected="selected" value=" Please select province ">
                            Please select gender
                        </option>
                    </select>
                    <span asp-validation-for="Gender" class="text-danger"></span>
                </div>

                <div class="form-group col-md-12">
                    <label asp-for="Race" class="control-label"> Race</label>
                    <select asp-for="Race" class="form-control" asp-items="Html.GetEnumSelectList<eRace>()">
                        <option selected="selected" value=" Please select race ">
                            Please select race
                        </option>
                    </select>
                    <span asp-validation-for="Race" class="text-danger"></span>

                    <div class="form-group col-md-12">
                        <label asp-for="IdDoc" class="control-label">Upload Your Id</label>
                        <input asp-for="IdDoc" class="form-control" />
                        <span asp-validation-for="IdDoc" class="text-danger"></span>
                    </div>

                    <br />
                </div>
                <div class="form-group mt-12">
                    <input type="submit" value="Save" class="btn btn-primary" />
                    <input type="reset" value="Clear" class="btn btn-secondary" />
                </div>

            </form>
        </div>
    </div>

</div>


<script src="~/lib/notyf.min.js"></script>

@*<script>
    document.getElementById('idNumber').addEventListener('input', function () {
        var idNumber = this.value;
        var dateOfBirth = idNumber.substring(0, 6); // Assuming the first 6 characters represent the date of birth in YYMMDD format
        var year = parseInt(dateOfBirth.substring(0, 2));
        var month = parseInt(dateOfBirth.substring(2, 4));
        var day = parseInt(dateOfBirth.substring(4, 6));
        var currentDate = new Date();
        var currentYear = currentDate.getFullYear();
        var fullYear = currentYear - (currentYear % 100) + year;

        if (month > 12) {
            month -= 20; // Adjusting for the month if the person is over 100 years old
            if (fullYear > currentYear) {
                fullYear -= 100;
            }
        }

        var dateOfBirthString = ('0' + day).slice(-2) + '/' + ('0' + month).slice(-2) + '/' + fullYear;
        var age = currentYear - fullYear;

        document.getElementById('dateOfBirth').value = dateOfBirthString;
        document.getElementById('age').value = age;
    });
</script>
*@



